{"id":"EtH2","dependencies":[{"name":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/tsconfig.json","includedInParent":true,"mtime":1567006208701},{"name":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/package.json","includedInParent":true,"mtime":1567002383405},{"name":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/package.json","includedInParent":true,"mtime":1567006427463},{"name":"react","loc":{"line":10,"column":35},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/src/Static.tsx","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/react/index.js"},{"name":"./NarsServer.gen","loc":{"line":11,"column":33},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/src/Static.tsx","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/src/NarsServer.gen.tsx"}],"generated":{"js":"\"use strict\";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(exports,\"__esModule\",{value:!0});const r=e(require(\"react\")),t=require(\"./NarsServer.gen\");function n(e){let r={};for(const t in e){const n=e[t];r[t]=(e=>{let r={};for(const o in n.props){const c=n.props[o].decode(e[o]);if(!c)throw\"Bad prop type in \"+t;r[o]=c}if(n.localProps)for(const t in n.localProps)r[t]={key:t};return r})}return r}function o(e,t){const o=n(e);return(e,n)=>{if(e in t&&e in o){const c=t[e],s=o[e](n);return r.createElement(c,s)}}}function c(e,r){t.startListening(e,{render:({componentDescription:e})=>{let t;const n=e.props,o=e.localProps;try{\"object\"==typeof n&&\"object\"==typeof o&&(t=r(e.name,Object.assign({},n,o)))}catch(c){console.error(`Error while rendering component ${e.name}:\\n${c}`)}return t||null}})}exports.createRouter=o,exports.attatchListener=c;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":251}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":259}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":269}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":279}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":299}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":308}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":25,"column":51},"generated":{"line":1,"column":310}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":313}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":317}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":319}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":322}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":27,"column":7},"generated":{"line":1,"column":326}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":332}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":337}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":27,"column":34},"generated":{"line":1,"column":339}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":340}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":346}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":348}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":350}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":353}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":355}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":358}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":359}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":363}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":367}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":369}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":372}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":376}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":382}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":387}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":389}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":32,"column":46},"generated":{"line":1,"column":395}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":396}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":402}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":404}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":406}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":412}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":50},"generated":{"line":1,"column":415}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":57},"generated":{"line":1,"column":422}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":34,"column":65},"generated":{"line":1,"column":424}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":428}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":432}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":434}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":439}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":459}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":461}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":463}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":37,"column":33},"generated":{"line":1,"column":466}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":468}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":471}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":473}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":484}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":488}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":43,"column":19},"generated":{"line":1,"column":494}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":43,"column":30},"generated":{"line":1,"column":499}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":43,"column":41},"generated":{"line":1,"column":501}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":512}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":514}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":517}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":45,"column":35},"generated":{"line":1,"column":518}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":45,"column":40},"generated":{"line":1,"column":522}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":525}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":532}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":536}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":543}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":545}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":554}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":556}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":558}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":561}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":567}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":569}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":63,"column":33},"generated":{"line":1,"column":571}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":64,"column":2},"generated":{"line":1,"column":574}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":580}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":581}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":64,"column":35},"generated":{"line":1,"column":583}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":588}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":591}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":16},"generated":{"line":1,"column":596}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":31},"generated":{"line":1,"column":599}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":39},"generated":{"line":1,"column":604}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":65,"column":48},"generated":{"line":1,"column":606}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":607}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":613}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":66,"column":24},"generated":{"line":1,"column":615}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":66,"column":36},"generated":{"line":1,"column":617}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":67,"column":12},"generated":{"line":1,"column":620}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":67,"column":26},"generated":{"line":1,"column":622}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":67,"column":34},"generated":{"line":1,"column":624}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":67,"column":40},"generated":{"line":1,"column":627}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":630}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":637}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":68,"column":19},"generated":{"line":1,"column":639}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":68,"column":33},"generated":{"line":1,"column":653}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":68,"column":44},"generated":{"line":1,"column":655}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":660}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":16},"generated":{"line":1,"column":669}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":671}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":51},"generated":{"line":1,"column":673}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":75,"column":2},"generated":{"line":1,"column":676}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":75,"column":2},"generated":{"line":1,"column":678}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":693}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":75,"column":25},"generated":{"line":1,"column":695}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":76,"column":4},"generated":{"line":1,"column":696}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":703}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":705}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":726}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":732}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":77,"column":10},"generated":{"line":1,"column":736}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":738}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":78,"column":12},"generated":{"line":1,"column":744}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":78,"column":20},"generated":{"line":1,"column":746}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":78,"column":41},"generated":{"line":1,"column":748}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":79,"column":12},"generated":{"line":1,"column":754}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":79,"column":25},"generated":{"line":1,"column":756}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":79,"column":46},"generated":{"line":1,"column":758}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":769}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":81,"column":29},"generated":{"line":1,"column":773}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":790}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":81,"column":63},"generated":{"line":1,"column":793}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":81,"column":48},"generated":{"line":1,"column":810}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":814}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":20},"generated":{"line":1,"column":816}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":27},"generated":{"line":1,"column":818}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":48},"generated":{"line":1,"column":820}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":825}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":832}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":839}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":83,"column":15},"generated":{"line":1,"column":842}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":84,"column":15},"generated":{"line":1,"column":844}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":849}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":87,"column":15},"generated":{"line":1,"column":855}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":858}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":866}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":89,"column":45},"generated":{"line":1,"column":907}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":89,"column":66},"generated":{"line":1,"column":909}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":89,"column":76},"generated":{"line":1,"column":919}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":924}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":931}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":934}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":942}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":950}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":963}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":965}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":973}},{"source":"node_modules/nars/src/Static.tsx","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":989}}],"sources":{"node_modules/nars/src/Static.tsx":"import * as React from \"react\";\nimport { LocalProp, ComponentConfig, ExtractInputPropTypes } from \"nars-common\";\nimport { startListening } from \"./NarsServer.gen\";\nimport { Server } from \"ws\";\n\nexport type MapLocalProps<T> = { [K in keyof T]: LocalProp };\n\nexport type ComponentDefinitions<T extends ComponentConfig> = {\n  readonly [P in keyof T]: React.ComponentType<\n    ExtractInputPropTypes<T[P][\"props\"]> & MapLocalProps<T[P][\"localProps\"]>\n  >;\n};\n\ntype Decoder<T extends ComponentConfig> = {\n  readonly [P in keyof T]: (\n    props: object\n  ) =>\n    | ExtractInputPropTypes<T[P][\"props\"]> & MapLocalProps<T[P][\"localProps\"]>\n    | undefined;\n};\n\ntype Writeable<T> = { -readonly [P in keyof T]: T[P] };\n\n/* TODO: TEST */\nfunction createDecoders<T extends ComponentConfig>(config: T): Decoder<T> {\n  let res = {} as Writeable<Decoder<T>>;\n  for (const component in config) {\n    const definition = config[component];\n    // @ts-ignore\n    res[component] = (propsIn: object) => {\n      let parsedProps = {};\n      for (const propKey in definition.props) {\n        // @ts-ignore\n        const decoded = definition.props[propKey].decode(propsIn[propKey]);\n        if (decoded) {\n          // @ts-ignore\n          parsedProps[propKey] = decoded;\n        } else {\n          throw \"Bad prop type in \" + component;\n        }\n      }\n      if (definition.localProps) {\n        for (const propKey in definition.localProps) {\n          // @ts-ignore\n          parsedProps[propKey] = { key: propKey };\n        }\n      }\n      return parsedProps;\n    };\n  }\n  return res as Decoder<T>;\n}\n\ntype Router<N> = (\n  name: N | string,\n  props: object\n) => React.ReactElement | undefined;\n\nexport function createRouter<\n  T extends ComponentConfig,\n  MaybeKey extends keyof T\n>(config: T, definitions: ComponentDefinitions<T>): Router<MaybeKey> {\n  const parsers = createDecoders(config);\n  return (name: MaybeKey | string, props: object) => {\n    if (name in definitions && name in parsers) {\n      const Component = definitions[name];\n      const parsedProps = parsers[name](props);\n      return React.createElement(Component, parsedProps);\n    }\n    return undefined;\n  };\n}\n\nexport function attatchListener<T>(server: Server, router: Router<T>): void {\n  startListening(server, {\n    render: ({ componentDescription }) => {\n      let element;\n      const props = componentDescription.props;\n      const localProps = componentDescription.localProps;\n      try {\n        if (typeof props === \"object\" && typeof localProps === \"object\") {\n          element = router(componentDescription.name, {\n            ...props,\n            ...localProps\n          });\n        }\n      } catch (error) {\n        console.error(\n          `Error while rendering component ${componentDescription.name}:\\n${error}`\n        );\n      }\n      if (element) {\n        return element;\n      } else {\n        /* TODO: Fix the type definition there */\n        return (null as unknown) as JSX.Element;\n      }\n    }\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"a99d7c93933c5add5d5bf4e8ac8038ac","cacheData":{"env":{}}}