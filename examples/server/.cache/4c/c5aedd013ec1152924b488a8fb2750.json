{"id":"sLkI","dependencies":[{"name":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/package.json","includedInParent":true,"mtime":1567002383405},{"name":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/package.json","includedInParent":true,"mtime":1567006427463},{"name":"bs-platform/lib/js/curry.js","loc":{"line":4,"column":20},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/dist/NarsServer.bs.js","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/bs-platform/lib/js/curry.js"},{"name":"bs-platform/lib/js/caml_option.js","loc":{"line":5,"column":26},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/dist/NarsServer.bs.js","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/bs-platform/lib/js/caml_option.js"},{"name":"./NarsReconciler.bs.js","loc":{"line":6,"column":29},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/dist/NarsServer.bs.js","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/dist/NarsReconciler.bs.js"},{"name":"bs-platform/lib/js/belt_HashMapInt.js","loc":{"line":7,"column":30},"parent":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/nars/dist/NarsServer.bs.js","resolved":"/Users/wczekalski/Documents/Work/Projects.nosync/nars/examples/server/node_modules/bs-platform/lib/js/belt_HashMapInt.js"}],"generated":{"js":"\"use strict\";var r=require(\"bs-platform/lib/js/curry.js\"),n=require(\"bs-platform/lib/js/caml_option.js\"),e=require(\"./NarsReconciler.bs.js\"),t=require(\"bs-platform/lib/js/belt_HashMapInt.js\");function a(a,o){return a.on(\"connection\",function(a){var i=t.make(50);return a.on(\"message\",function(s){var u=t.get(i,s[0]),c=s[1];if(void 0!==u){var l=n.valFromOption(u);return c?(e.updateContainer(r._1(o,c[0]),l),0):(t.remove(i,s[0]),e.unbatchedUpdates(function(r){return e.updateContainer(null,l)}),0)}if(c){var p=e.createContainer([s[0],a],void 0,void 0,0);return t.set(i,s[0],p),e.updateContainer(r._1(o,c[0]),p),0}return console.error(\"Cannot unmount an unavailable container\"),0}),0}),0}var o=0;exports.IdToContainerMap=o,exports.startListening=a;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":4,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":4,"column":0},"generated":{"line":1,"column":17}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":4,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":4,"column":0},"generated":{"line":1,"column":27}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":5,"column":0},"generated":{"line":1,"column":58}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":5,"column":0},"generated":{"line":1,"column":60}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":5,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":6,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":6,"column":0},"generated":{"line":1,"column":107}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":6,"column":0},"generated":{"line":1,"column":115}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":7,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":7,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":7,"column":0},"generated":{"line":1,"column":151}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":9,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":9,"column":0},"generated":{"line":1,"column":201}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":9,"column":0},"generated":{"line":1,"column":203}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":9,"column":0},"generated":{"line":1,"column":205}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":42,"column":0},"generated":{"line":1,"column":208}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":10,"column":0},"generated":{"line":1,"column":215}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":10,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":10,"column":0},"generated":{"line":1,"column":220}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":10,"column":0},"generated":{"line":1,"column":233}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":10,"column":0},"generated":{"line":1,"column":242}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":11,"column":0},"generated":{"line":1,"column":245}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":11,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":11,"column":0},"generated":{"line":1,"column":251}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":11,"column":0},"generated":{"line":1,"column":253}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":11,"column":0},"generated":{"line":1,"column":258}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":40,"column":0},"generated":{"line":1,"column":262}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":12,"column":0},"generated":{"line":1,"column":269}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":12,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":12,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":12,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":12,"column":0},"generated":{"line":1,"column":293}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":296}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":300}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":302}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":310}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":13,"column":0},"generated":{"line":1,"column":312}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":14,"column":0},"generated":{"line":1,"column":316}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":14,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":14,"column":0},"generated":{"line":1,"column":320}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":15,"column":0},"generated":{"line":1,"column":323}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":15,"column":0},"generated":{"line":1,"column":331}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":15,"column":0},"generated":{"line":1,"column":335}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":15,"column":0},"generated":{"line":1,"column":337}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":16,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":16,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":16,"column":0},"generated":{"line":1,"column":344}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":16,"column":0},"generated":{"line":1,"column":346}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":16,"column":0},"generated":{"line":1,"column":360}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":17,"column":0},"generated":{"line":1,"column":363}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":17,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":373}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":375}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":391}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":393}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":396}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":398}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":400}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":18,"column":0},"generated":{"line":1,"column":404}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":19,"column":0},"generated":{"line":1,"column":407}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":21,"column":0},"generated":{"line":1,"column":411}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":21,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":21,"column":0},"generated":{"line":1,"column":420}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":21,"column":0},"generated":{"line":1,"column":422}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":21,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":22,"column":0},"generated":{"line":1,"column":428}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":22,"column":0},"generated":{"line":1,"column":430}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":22,"column":0},"generated":{"line":1,"column":447}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":22,"column":0},"generated":{"line":1,"column":456}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":23,"column":0},"generated":{"line":1,"column":459}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":23,"column":0},"generated":{"line":1,"column":466}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":23,"column":0},"generated":{"line":1,"column":468}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":23,"column":0},"generated":{"line":1,"column":484}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":23,"column":0},"generated":{"line":1,"column":489}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":25,"column":0},"generated":{"line":1,"column":494}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":27,"column":0},"generated":{"line":1,"column":497}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":27,"column":0},"generated":{"line":1,"column":500}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":27,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":28,"column":0},"generated":{"line":1,"column":503}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":28,"column":0},"generated":{"line":1,"column":507}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":28,"column":0},"generated":{"line":1,"column":509}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":28,"column":0},"generated":{"line":1,"column":511}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":28,"column":0},"generated":{"line":1,"column":527}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":29,"column":0},"generated":{"line":1,"column":528}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":29,"column":0},"generated":{"line":1,"column":530}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":30,"column":0},"generated":{"line":1,"column":533}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":31,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":31,"column":0},"generated":{"line":1,"column":548}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":31,"column":0},"generated":{"line":1,"column":550}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":34,"column":0},"generated":{"line":1,"column":553}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":560}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":562}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":566}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":570}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":32,"column":0},"generated":{"line":1,"column":573}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":578}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":594}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":596}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":599}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":601}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":603}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":33,"column":0},"generated":{"line":1,"column":607}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":34,"column":0},"generated":{"line":1,"column":610}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":37,"column":0},"generated":{"line":1,"column":612}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":36,"column":0},"generated":{"line":1,"column":619}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":36,"column":0},"generated":{"line":1,"column":627}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":36,"column":0},"generated":{"line":1,"column":633}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":37,"column":0},"generated":{"line":1,"column":676}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":40,"column":0},"generated":{"line":1,"column":680}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":42,"column":0},"generated":{"line":1,"column":684}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":45,"column":0},"generated":{"line":1,"column":686}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":45,"column":0},"generated":{"line":1,"column":690}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":45,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":47,"column":0},"generated":{"line":1,"column":694}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":47,"column":0},"generated":{"line":1,"column":702}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":47,"column":0},"generated":{"line":1,"column":719}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":48,"column":0},"generated":{"line":1,"column":721}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":48,"column":0},"generated":{"line":1,"column":729}},{"source":"node_modules/nars/dist/NarsServer.bs.js","original":{"line":48,"column":0},"generated":{"line":1,"column":744}}],"sources":{"node_modules/nars/dist/NarsServer.bs.js":"// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Caml_option = require(\"bs-platform/lib/js/caml_option.js\");\nvar NarsReconciler = require(\"./NarsReconciler.bs.js\");\nvar Belt_HashMapInt = require(\"bs-platform/lib/js/belt_HashMapInt.js\");\n\nfunction startListening(server, render) {\n  server.on(\"connection\", (function (socket) {\n          var containers = Belt_HashMapInt.make(50);\n          socket.on(\"message\", (function (message) {\n                  var match = Belt_HashMapInt.get(containers, message[/* id */0]);\n                  var match$1 = message[/* contents */1];\n                  if (match !== undefined) {\n                    var container = Caml_option.valFromOption(match);\n                    if (match$1) {\n                      NarsReconciler.updateContainer(Curry._1(render, match$1[0]), container);\n                      return /* () */0;\n                    } else {\n                      Belt_HashMapInt.remove(containers, message[/* id */0]);\n                      NarsReconciler.unbatchedUpdates((function (param) {\n                              return NarsReconciler.updateContainer(null, container);\n                            }));\n                      return /* () */0;\n                    }\n                  } else if (match$1) {\n                    var container$1 = NarsReconciler.createContainer(/* record */[\n                          /* id */message[/* id */0],\n                          /* socket */socket\n                        ], undefined, undefined, /* () */0);\n                    Belt_HashMapInt.set(containers, message[/* id */0], container$1);\n                    NarsReconciler.updateContainer(Curry._1(render, match$1[0]), container$1);\n                    return /* () */0;\n                  } else {\n                    console.error(\"Cannot unmount an unavailable container\");\n                    return /* () */0;\n                  }\n                }));\n          return /* () */0;\n        }));\n  return /* () */0;\n}\n\nvar IdToContainerMap = 0;\n\nexports.IdToContainerMap = IdToContainerMap;\nexports.startListening = startListening;\n/* No side effect */\n"},"lineCount":null}},"error":null,"hash":"f5842e88e5245dccf62f3ac4e34b76e2","cacheData":{"env":{}}}